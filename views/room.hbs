<script src="http://localhost:3000/socket.io/socket.io.js"></script>
<script>
	//need to do this to access handlebars var in client side js
	const cName = "{{cName}}"; 
	const userFilter = "{{userFilter}}";
	const msgFilter = "{{msgFilter}}";
</script>
<script src="/script/script.js"></script>

<div class="container-fluid">
	<div class="row">
		<div class="col-sm-2">
			<div class="row mb-1 justify-content-center">
				<h1 class="">{{cName}}</h1>
			</div>
			<div class="form-group row justify-content-center text-center mb-5 pb-5">
				<div class="w-75">
					<div class="mb-2">Username (REQUIRED): </div>
					<input type="text" class="form-control" id="username" autocomplete="off" placeholder="You must have a name...">
				</div>
			</div>
			<div class="row justify-content-center text-center mt-5 pt-5">
				<form method="GET" class="w-75" action="/chat/{{cName}}" id="filterForm">
					<div class="mb-2">Filter for Messages:</div>
					<input type="text" class="form-control" id="filterUser" name="userQ" autocomplete="off" placeholder="By User">
					<input type="text" class="form-control" id="filterMsg" name="msgQ" autocomplete="off" placeholder="By Content">
					<input type="submit" class="btn btn-dark w-100 mt-2" value="Filter">
				</form>
			</div>
		</div>
		<div class="col-sm-10">
			<div class="row">
				<div class="w-100 rounded-lg shadow-lg whiteBGcolor fullHeight overflow-auto" id="messages">
				</div>
			</div>
			<form class="form-group row" id="sendMsg">
				<input type="text" class="form-control col-sm-11 border border-secondary rounded" type="text" placeholder="Enter your message..." id="messageContent" autocomplete="off">
				<button type="submit" class="btn btn-primary col-sm-1">Send</button>
			</form>
		</div>
	</div>
	<!--
	<div class="row justify-content-center m-4">
		<h1>{{cName}}</h1>
	</div>
	<div class="form-group row justify-content-center">
		<label for="username" class="col-form-label mr-3">Username:</label>
		<div>
			<input type="text" id="username" class="form-control pr-5" placeholder="You must have a name...">
		</div>
	</div>
	<div class="row justify-content-center">
		<div class="w-50 pb-3 mt-2 p-0 border border-dark rounded-sm">
			<form method="GET" class="form-group m-3 row" action="/chat/{{cName}}" id="filterForm">
				<label for="filterUser" class="col-form-label mr-1">By User:</label>
				<input type="text" class="form-control col-sm-2" id="filterUser" name="userQ">
				<label for="filterMsg" class="col-form-label ml-3 mr-1">By Words:</label>
				<input type="text" class="form-control col-sm-5" id="filterMsg" name="msgQ">
				<input type="submit" class="btn btn-light ml-5 col-sm-2" value="Filter Messages">
			</form>		
			<div class="card m-3 p-3">
				<div class="card-block overflow-auto" id="messages" style="height: 400px"></div>
			</div>
			<form class="form-group m-3 row" id="sendMsg">
				<input type="text" class="form-control col-sm-11" type="text" placeholder="Enter your message..." id="messageContent" autocomplete="off">
				<button type="submit" class="btn btn-primary col-sm-1">Send</button>
			</form>
		</div>
	</div>
	-->
</div>

<script>
const messageBody = document.querySelector('#messages');
messageBody.scrollTop = messageBody.scrollHeight - messageBody.clientHeight;
</script>